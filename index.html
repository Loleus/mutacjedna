<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8" />
  <title>Algorytm genetyczny: 100 kropek w labiryncie</title>
  <meta property="og:image" content="https://loleus.github.io/mutacjedna/dna.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="ui">
    <h2>Genetyczny labirynt</h2>

    <div class="stat">
      <div class="global">
        <span class="pill">Populacja: <b id="pop">100</b></span>
        <span class="pill">Generacja: <b id="gen">0</b></span>
      </div>

      <canvas id="hist" width="280" height="96"></canvas>

      <div class="hist">
        <span class="pill">Najlepszy<br><b id="best">0</b></span>
        <span class="pill">Średni<br><b id="avg">0</b></span>
        <span class="pill">Całkowity<br><b id="totalFit">0.000</b></span>
      </div>

    </div>
    <div class="params">
      <label><b>Długość DNA</b> (kroki)</label>
      <span>: <b id="dnaLenVal">400</b></span>
      <input id="dnaLen" type="range" min="50" max="1000" value="400">

      <label><b>Mutacja</b> (%)</label>
      <span>: <b id="mutRateVal">5</b></span>
      <input id="mutRate" type="range" min="0" max="20" value="5">

      <label><b>Elitaryzm</b> (ile najlepszych)</label>
      <span>: <b id="eliteVal">3</b></span>
      <input id="elite" type="range" min="1" max="20" value="3">

      <label><b>Metoda selekcji</b></label>

      <select id="selMethod">
        <option value="roulette">Ruletka (roulette)</option>
        <option value="tournament">Turniej (tournament)</option>
        <option value="rank">Ranking (rank)</option>
      </select>

      <label style="margin-top:12px;"><b>Rozmiar turnieju</b> </label>
      <span>: <b id="tournamentSizeVal">5</b></span>

      <input id="tournamentSize" type="range" min="2" max="20" value="5" />
      <label><input id="tournamentNoReplace" type="checkbox" /> bez powtórzeń</label>

      <label style="margin-top:12px;">
        <input type="checkbox" id="showTrails" checked> Pokaż trajektorie (ścieżki)</label>
    </div>

    <div class="buttons">
      <button id="restart">Restart</button>
      <button id="pause">Pauza</button>
    </div>

  </div>
  <div class="mid">
    <div class="center">
      <canvas id="cv" width="280" height="280"></canvas>
    </div>
    <div class="center">
      <h3><b>Metoda selekcji:</b></h3>
      <ul style="margin:6px 0 0 18px; color:#aaa;">
        <li><b>Ruletka</b> – prawdopodobieństwo proporcjonalne do fitnessu. Jeśli ktoś ma 2x fitness,
          ma 2x większą szansę zostać rodzicem. Proste, ale wrażliwe na outliery (bardzo dobrych).</li>
        <li><b>Turniej</b> – losujemy kilku osobników i wybieramy najlepszego (mniej wrażliwe na skrajne wartości i
          łatwe do zrównoleglenia).</li>
        <li><b>Ranking</b> – sortujemy po fitness i wybieramy według rangi (np. liniowo). Redukuje
          wpływ bardzo dużych różnic w fitnessie, co pomaga utrzymać różnorodność.
        </li>
      </ul>
    </div>
  </div>

  <div id="desc">
    <h3>Jak to działa?</h3>
    <p>
      Mamy populację kropek. Każda kropka ma DNA — listę małych wektorów ruchu.
      Symulujemy je jednocześnie; jeśli kropka uderzy w ścianę, umiera. Po wykonaniu wszystkich kroków
      oceniamy, które były najbliżej celu (fitness). Najlepsze kopiujemy, mieszamy i losowo zmieniamy.
      To proste odzwierciedlenie selekcji naturalnej: różnorodność + selekcja = lepsze rozwiązania.
    </p>
    <h3>Opis działania suwaków:</h3>
    <ul>
      <li><b>Długość DNA (kroki)</b> – liczba ruchów zapisanych w DNA każdej kropki. Większa wartość daje dłuższe
        trajektorie, ale spowalnia uczenie.</li>
      <li><b>Mutacja (%)</b> – procent losowych zmian w DNA potomków. Wyższa wartość zwiększa różnorodność, niższa
        stabilizuje dobre rozwiązania. Mutacja miesza DNA rodziców (tu jednopunktowe), wprowadza losowe zmiany, drobne
        przesunięcie kąta i prędkości.
        To odpowiada rekombinacji i mutacjom w biologii.</li>
      <li><b>Elitaryzm</b> – liczba najlepszych osobników, którzy przechodzą do kolejnej generacji bez zmian. Zwiększa
        stabilność i zachowanie dobrych rozwiązań, ale zbyt duża wartość może ograniczyć różnorodność.</li>
      <li><b>Rozmiar turnieju</b> – liczba osobników losowanych do pojedynczego turnieju. Im większy rozmiar, tym
        większa szansa, że wygra bardzo dobry osobnik, co przyspiesza konwergencję, ale może zmniejszyć różnorodność.
      </li>
      <li><b>Bez powtórzeń</b> – jeśli zaznaczone, osobnik w danym turnieju nie może być wylosowany więcej niż raz.
        Zwiększa to sprawiedliwość selekcji i zmniejsza ryzyko dominacji jednego osobnika w wielu próbach.</li>
    </ul>
    <div style="font-size:13px; color:#bbb; margin-top:6px;">

      <h3>Podstawy algorytmów genetycznych</h3>
      <p>
        Twórcą algorytmów genetycznych był <b>John Henry Holland</b> (1929–2015), profesor Uniwersytetu Michigan.
        Zainspirował się procesami biologicznej ewolucji – selekcją naturalną, dziedziczeniem cech i mutacjami –
        oraz matematyką: teorią systemów złożonych, kombinatoryką i teorią informacji.
        Chciał pokazać, że komputer może „uczyć się” poprzez symulację ewolucji,
        bez konieczności pełnej wiedzy o strukturze problemu.
      </p>
      <p>
        W praktyce oznacza to, że rozwiązania problemu traktujemy jak osobniki z DNA.
        DNA to zapis parametrów lub instrukcji. Osobniki podlegają ocenie – mierzymy ich „fitness”,
        czyli jak dobrze radzą sobie z zadaniem - matematyczna miara „przystosowania” rozwiązania do zadania. Najlepsi
        mają większą szansę na reprodukcję.
        Tworzymy nowe pokolenia poprzez krzyżowanie DNA i mutacje, co pozwala populacji
        eksplorować przestrzeń rozwiązań.
      </p>
    </div>

  </div>
  <script src="index.js"></script>
</body>

</html>